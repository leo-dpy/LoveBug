<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoveBug - Découverte</title>
    <link rel="manifest" href="../assets/manifest.json">
    <link rel="icon" type="image/svg+xml" href="../assets/images/favicon.svg">
    <link rel="apple-touch-icon" href="../assets/images/icon-192x192.png">
    <meta name="theme-color" content="#ff3366">
    <!-- On réutilise le style de base pour le background -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/discover.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="background-orbs">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
    </div>

    <!-- Menu    <!-- Navigation Globale -->
    <nav class="glass-nav">
        <div class="nav-logo">Love<span>Bug</span></div>
        <div class="nav-links">
            <a href="home.html" title="Accueil"><i class="fa-solid fa-house"></i></a>
            <a href="discover.html" class="active" title="Découvrir"><i class="fa-solid fa-compass"></i></a>
            <a href="chat.html" title="Messages"><i class="fa-solid fa-comment"></i></a>
            <a href="friends.html" title="Amis"><i class="fa-solid fa-user-group"></i></a>
            <a href="casino.html" title="Casino"><i class="fa-solid fa-dice"></i></a>
            <a href="profile.html" title="Profil"><i class="fa-solid fa-user"></i></a>
        </div>
    </nav>

    <main class="discover-container">
        <!-- Zone des cartes Tinder-like -->
        <div id="card-stack" class="card-stack">
            <!-- Les cartes seront injectées ici par le JS -->
            <div class="loading-cards">
                <i class="fa-solid fa-circle-notch fa-spin"></i> Recherche d'âmes sœurs...
            </div>
        </div>

        <!-- Contrôles Swipe -->
        <div class="swipe-controls">
            <button class="btn-action btn-reject" id="btn-reject">
                <i class="fa-solid fa-xmark"></i>
            </button>
            <button class="btn-action btn-like" id="btn-like">
                <i class="fa-solid fa-heart"></i>
            </button>
        </div>
    </main>

    <!-- Modal "It's a Match!" -->
    <div id="match-modal" class="modal hidden">
        <div class="modal-content glass-container glass-match">
            <h2 class="match-title">It's a Match !</h2>
            <p>Vous plaisez aussi à ce profil.</p>
            <div class="match-actions">
                <button class="btn-primary" onclick="window.location.href='chat.html'">Discuter</button>
                <button class="btn-secondary" id="close-match">Continuer à swiper</button>
            </div>
        </div>
    </div>

    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script src="../assets/js/notifications.js"></script>
    <script src="../assets/js/discover.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('../assets/js/sw.js')
                    .then(reg => console.log('SW Registered', reg))
                    .catch(err => console.error('SW Error', err));
            });
        }
    </script>
</body>

</html>